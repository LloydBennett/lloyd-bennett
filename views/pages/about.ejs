<section class="section--l-m-bottom">
  <div class="about__hero">
    <% 
    let title = document.data.hero_title 
    let titleArr = title.split(" ")
    let image = document.data.hero_image_main
    let imageAlt = document.data.hero_image_alt
    let mainColour = document.data.hero_image_main_cover_colour
    let altColour = document.data.hero_image_alt_cover_colour

    %>

    <div class="about__heading mix-blend__diff type--white">
      <h1 class="about__title type--xl">
        <% titleArr.forEach((text, index) => { %>
          <span class="inline-block"><% let letters = text.split("") %><% letters.forEach((char, i)=> { %><span class="inline-block" data-title-reveal><%- char %></span><% })%></span>
        <% }) %>
      </h1>
    </div>
    
    <div class="about__intro">
      <p class="type--body type--grit-400" data-text="line-break" data-intro-text>
        <%- document.data.intro %>
      </p>
    </div>

    <div class="about__hero-media" data-parallax="10" data-parallax-scrub=0.2>
      <div data-hero-image-block>
        <div class="relative center-block rotate--l-minus" data-hero-image-container data-hero-image-rotated>
          <div class="overlay absolute z-index--2" data-image-cover style="background-color: <%- mainColour %>"></div>
          <div class="about__hero-media-img" style="background: url('<%- image.large.url %>') center no-repeat; background-size: cover" data-main-hero data-hero-image></div>
        </div>
      </div>
      
    </div>
    
    <div class="about__hero-media-alt" data-parallax data-parallax-config='{
      "(max-width: 959px)": { "y": "80", "trigger": "top bottom" },
      "(min-width: 960px) and (max-width: 1199px)": { "y": "50", "trigger": "top bottom" },
      "(min-width: 1200px)": { "y": "80", "trigger": "top 70%" }
    }' data-parallax-scrub="0.3">
      <div class="relative rotate--l rotate--s-minus-l" data-hero-image-container>
        <div class="overlay absolute z-index--2" data-image-cover style="background-color: <%- altColour %>"></div>

        <div class="about__hero-alt-img" style="background: url('<%- imageAlt.large.url %>') center no-repeat; background-size: cover" data-hero-image></div>
      </div>

    </div>
  
  </div>

</section>


<section class="section--l-m-bottom about--hidden">
  <div class="container">
    <p class="about__call-out type--call-out type--justify" data-text>
      <%- document.data.call_out_text %>
    </p>
  </div>
</section>


<section class="section--m-m-bottom">
  <div class="container about__middle">
    <div class="about__middle-img" data-parallax data-parallax-scrub="0.2">
      <picture class="block">
        <source media="(max-width: 1270px)" srcset="<%- document.data.alt_image.url %>">
        <source media="(min-width: 1271px)" srcset="<%- document.data.alt_image.large.url %>">
        <img class="block--full-width" src="<%- document.data.alt_image.url %>" alt="<%- document.data.alt_image.alt %>">
      </picture>
    </div>

    <p class="about__call-out type--call-out type--justify">
      <%- document.data.call_out_text %>
    </p>
    
  </div>
</section>
<%- include('../partials/client-list') -%>

<%- include('../partials/marquee', { label: document.data.belt_label, small_spacing: false, hide_extra_labels: true }) -%>
 

<section class="section--l-m-bottom">
  <% 
    let process = document.data.process
    
  %>
  <div class="about__process">
    <% process.forEach((obj, counter) => { %>
    <% 
    let count = counter + 1 
    let countPadded = count.toString().padStart(2, '0')
    %>
    <div class="about__process-no">
      <span class="type--l"><%- countPadded %></span>
    </div>

    <div class="two-col-offset">
      <div class="type--s-margin">
        <h4 class="type--s"><%- obj.process_title %></h4>
      </div>
      <p class="type--body type--grit-400">
        <%- obj.process_body %>
      </p>
      
    </div>
    <%}) %>
  </div>
</section>
